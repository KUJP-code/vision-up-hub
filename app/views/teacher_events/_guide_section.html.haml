-# locals: (lesson:)

%section.resource-section
  - if lesson.respond_to?(:activity_guide) && lesson.activity_guide.attached?
    %h3.w-full.md:col-span-2.font-semibold.text-lg.sticky.top-0.bg-white
      = t('.Guide')
    %section{ class: 'w-full md:w-1/3 flex items-center gap-2' }
      = link_to file_path(lesson.activity_guide.blob.id),
                target: '_blank',
                rel: 'noopener',
                class: 'btn-outline flex items-center gap-2' do
        %span{ class: 'flex-grow truncate' }= t('.activity_guide')
        = inline_svg_tag 'download_icon.svg', class: 'fill-secondary flex-shrink-0'

  - if lesson.respond_to?(:ele_english_class) && lesson.ele_english_class.attached?
    %h3.w-full.md:col-span-2.font-semibold.text-lg.sticky.top-0.bg-white
      = t('.English Class')
    %section{ class: 'w-full md:w-1/3 flex items-center gap-2' }
      = link_to file_path(lesson.ele_english_class.blob.id),
                target: '_blank',
                rel: 'noopener',
                class: 'btn-outline' do
        %span{ class: 'basis-5/6 truncate' }= t('.ele_english_class')
        = inline_svg_tag 'download_icon.svg', class: 'fill-secondary'

  - if lesson.respond_to?(:kindy_english_class) && lesson.kindy_english_class.attached?
    %h3.w-full.md:col-span-2.font-semibold.text-lg.sticky.top-0.bg-white
      = t('.Kindy English Class')
    %section{ class: 'w-full md:w-1/3 flex items-center gap-2' }
      = link_to file_path(lesson.kindy_english_class.blob.id),
                target: '_blank',
                rel: 'noopener',
                class: 'btn-outline' do
        %span{ class: 'basis-5/6 truncate' }= t('.kindy_english_class')
        = inline_svg_tag 'download_icon.svg', class: 'fill-secondary'

  - if lesson.respond_to?(:scrapbook) && lesson.scrapbook.attached?
    %h3.w-full.md:col-span-2.font-semibold.text-lg.sticky.top-0.bg-white
      = t('.Scrapbook')
    %section{ class: 'w-full md:w-1/3 flex items-center gap-2' }
      = link_to file_path(lesson.scrapbook.blob.id),
                target: '_blank',
                rel: 'noopener',
                class: 'btn-outline' do
        %span{ class: 'basis-5/6 truncate' }= t('.scrapbook')
        = inline_svg_tag 'download_icon.svg', class: 'fill-secondary'
